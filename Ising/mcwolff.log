 ising.Wolff(128,2) und system.run(500)
 > 8 GB RAM

profile.run('system.run(100)')
   773081 function calls (676609 primitive calls) in 12.205 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
   193144    0.475    0.000    0.475    0.000 :0(append)
    96472    0.243    0.000    0.243    0.000 :0(rand)
      200    0.001    0.000    0.001    0.000 :0(randint)
        1    0.000    0.000    0.000    0.000 :0(range)
        1    0.001    0.001    0.001    0.001 :0(setprofile)
        1    0.000    0.000   12.204   12.204 <string>:1(<module>)
      200    0.000    0.000    0.000    0.000 ising.py:24(getSize)
   386288    0.807    0.000    0.807    0.000 ising.py:33(bc)
      100    0.002    0.000   12.121    0.121 ising.py:54(oneClusterStep)
96572/100   10.593    0.000   12.118    0.121 ising.py:60(growCluster)
      100    0.073    0.001    0.073    0.001 ising.py:73(flipCluster)
        1    0.010    0.010   12.204   12.204 ising.py:77(run)
        0    0.000             0.000          profile:0(profiler)
        1    0.000    0.000   12.205   12.205 profile:0(system.run(100))

profile.run('plot.show(initialConfig, delta)')
2189301 function calls (2189299 primitive calls) in 13.071 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
   198972    1.239    0.000    1.239    0.000 :0(__deepcopy__)
        3    0.000    0.000    0.000    0.000 :0(__new__)
        1    0.000    0.000    0.000    0.000 :0(add)
        8    0.001    0.000    0.001    0.000 :0(addAction)
        2    0.000    0.000    0.000    0.000 :0(addSeparator)
        1    0.000    0.000    0.000    0.000 :0(addToolBar)
        1    0.000    0.000    0.000    0.000 :0(addWidget)
        1    0.000    0.000    0.000    0.000 :0(affine_transform)
   198984    0.405    0.000    0.405    0.000 :0(append)
        4    0.000    0.000    0.000    0.000 :0(array)
        1    0.000    0.000    0.000    0.000 :0(callable)
        5    0.000    0.000    0.000    0.000 :0(connect)
        1    0.000    0.000    0.000    0.000 :0(copy)
        1    0.000    0.000    0.000    0.000 :0(dot)
   397946    1.053    0.000    1.053    0.000 :0(get)
   198992    0.515    0.000    0.515    0.000 :0(getattr)
        2    0.000    0.000    0.000    0.000 :0(hasattr)
       20    0.000    0.000    0.000    0.000 :0(hash)
        3    0.000    0.000    0.000    0.000 :0(height)
   596919    1.285    0.000    1.285    0.000 :0(id)
        1    0.000    0.000    0.000    0.000 :0(instance)
        7    0.000    0.000    0.000    0.000 :0(isinstance)
   198972    0.539    0.000    0.539    0.000 :0(issubclass)
        5    0.000    0.000    0.000    0.000 :0(iter)
        2    0.000    0.000    0.000    0.000 :0(iteritems)
        1    0.000    0.000    0.000    0.000 :0(iterkeys)
        1    0.000    0.000    0.000    0.000 :0(itervalues)
       30    0.000    0.000    0.000    0.000 :0(len)
        6    0.000    0.000    0.000    0.000 :0(lower)
        1    0.000    0.000    0.000    0.000 :0(pop)
        1    0.000    0.000    0.000    0.000 :0(remove)
       21    0.000    0.000    0.000    0.000 :0(replace)
        1    0.000    0.000    0.000    0.000 :0(reshape)
        2    0.000    0.000    0.000    0.000 :0(resize)
        1    0.000    0.000    0.000    0.000 :0(setAttribute)
        1    0.000    0.000    0.000    0.000 :0(setCentralWidget)
        2    0.000    0.000    0.000    0.000 :0(setCheckable)
        1    0.000    0.000    0.000    0.000 :0(setFocus)
        1    0.000    0.000    0.000    0.000 :0(setFocusPolicy)
        2    0.000    0.000    0.000    0.000 :0(setInterval)
        1    0.000    0.000    0.000    0.000 :0(setMouseTracking)
        8    0.000    0.000    0.000    0.000 :0(setToolTip)
        1    0.000    0.000    0.000    0.000 :0(setWindowIcon)
        1    0.000    0.000    0.000    0.000 :0(setWindowTitle)
        6    0.000    0.000    0.000    0.000 :0(setattr)
       20    0.000    0.000    0.000    0.000 :0(setdefault)
        1    0.000    0.000    0.000    0.000 :0(setprofile)
        1    0.000    0.000    0.000    0.000 :0(singleShot)
        2    0.003    0.002    0.003    0.002 :0(sizeHint)
        2    0.000    0.000    0.000    0.000 :0(sort)
        2    0.004    0.002    0.004    0.002 :0(statusBar)
        1    0.000    0.000    0.000    0.000 :0(width)
        2    0.000    0.000    0.000    0.000 :0(zeros)
        1    0.000    0.000   13.071   13.071 <string>:1(<module>)
        6    0.000    0.000    0.000    0.000 UserDict.py:4(__init__)
        1    0.000    0.000    0.000    0.000 __init__.py:1372(get_backend)
        2    0.000    0.000    0.000    0.000 __init__.py:1386(is_interactive)
       25    0.000    0.000    0.000    0.000 __init__.py:892(__getitem__)
        1    0.000    0.000    0.000    0.000 _pylab_helpers.py:129(set_active)
        1    0.000    0.000    0.000    0.000 _pylab_helpers.py:38(get_fig_manager)
        1    0.000    0.000    0.000    0.000 _weakrefset.py:16(__init__)
        1    0.000    0.000    0.000    0.000 _weakrefset.py:20(__enter__)
        1    0.000    0.000    0.000    0.000 _weakrefset.py:26(__exit__)
        1    0.000    0.000    0.001    0.001 animation.py:1089(__init__)
        1    0.000    0.000    0.000    0.000 animation.py:1116(<lambda>)
        1    0.000    0.000    0.000    0.000 animation.py:1134(new_frame_seq)
        1    0.000    0.000    0.000    0.000 animation.py:579(__init__)
        1    0.000    0.000    0.000    0.000 animation.py:829(_post_draw)
        1    0.000    0.000    0.000    0.000 animation.py:864(_setup_blit)
        1    0.000    0.000    0.001    0.001 animation.py:959(__init__)
        1    0.000    0.000    0.000    0.000 artist.py:232(axes)
    17/15    0.000    0.000    0.000    0.000 artist.py:256(stale)
        2    0.000    0.000    0.000    0.000 artist.py:314(pchanged)
        1    0.000    0.000    0.000    0.000 artist.py:329(set_transform)
        1    0.000    0.000    0.000    0.000 artist.py:624(set_figure)
       17    0.000    0.000    0.000    0.000 artist.py:724(get_animated)
        2    0.000    0.000    0.000    0.000 artist.py:86(__init__)
        1    0.000    0.000    0.000    0.000 backend_bases.py:1207(__init__)
        1    0.000    0.000    0.000    0.000 backend_bases.py:1252(_set_interval)
        2    0.000    0.000    0.000    0.000 backend_bases.py:1680(__init__)
        2    0.000    0.000    0.000    0.000 backend_bases.py:2035(get_width_height)
       10    0.000    0.000    0.001    0.000 backend_bases.py:2302(mpl_connect)
        1    0.000    0.000    0.000    0.000 backend_bases.py:2589(__init__)
        1    0.000    0.000    0.002    0.002 backend_bases.py:2725(__init__)
        1    0.000    0.000    0.000    0.000 backend_bases.py:3174(set_history_buttons)
        1    0.000    0.000    0.008    0.008 backend_qt4.py:65(__init__)
        1    0.000    0.000    0.021    0.021 backend_qt4agg.py:38(new_figure_manager)
        1    0.000    0.000    0.020    0.020 backend_qt4agg.py:49(new_figure_manager_given_figure)
        1    0.000    0.000    0.000    0.000 backend_qt4agg.py:58(__init__)
        1    0.000    0.000    0.008    0.008 backend_qt4agg.py:73(__init__)
        1    0.008    0.008    0.008    0.008 backend_qt5.py:123(_create_qApp)
        1    0.000    0.000    0.000    0.000 backend_qt5.py:187(__init__)
        2    0.000    0.000    0.000    0.000 backend_qt5.py:209(_timer_set_interval)
        1    0.000    0.000    0.000    0.000 backend_qt5.py:339(sizeHint)
        1    0.000    0.000    0.000    0.000 backend_qt5.py:383(new_timer)
        1    0.002    0.002    0.012    0.012 backend_qt5.py:436(__init__)
        1    0.000    0.000    0.002    0.002 backend_qt5.py:516(_get_toolbar)
        1    0.000    0.000    0.002    0.002 backend_qt5.py:557(__init__)
        8    0.000    0.000    0.000    0.000 backend_qt5.py:568(_icon)
        1    0.000    0.000    0.002    0.002 backend_qt5.py:571(_init_toolbar)
        1    0.000    0.000    0.000    0.000 backend_qt5agg.py:161(draw_idle)
        3    0.000    0.000    0.000    0.000 cbook.py:1320(__init__)
        4    0.000    0.000    0.000    0.000 cbook.py:1370(clear)
       20    0.000    0.000    0.000    0.000 cbook.py:362(__init__)
       10    0.000    0.000    0.000    0.000 cbook.py:384(add_destroy_callback)
        2    0.000    0.000    0.000    0.000 cbook.py:387(_destroy)
       20    0.000    0.000    0.000    0.000 cbook.py:450(__hash__)
        4    0.000    0.000    0.000    0.000 cbook.py:492(__init__)
       10    0.000    0.000    0.001    0.000 cbook.py:506(connect)
        1    0.000    0.000    0.000    0.000 cbook.py:554(process)
        1    0.000    0.000    0.000    0.000 cbook.py:686(iterable)
        3    0.000    0.000    0.000    0.000 cbook.py:695(is_string_like)
        3    0.000    0.000    0.000    0.000 colors.py:265(to_rgb)
        3    0.000    0.000    0.000    0.000 colors.py:334(to_rgba)
   198972    4.757    0.000   11.003    0.000 copy.py:145(deepcopy)
   198972    1.616    0.000    2.356    0.000 copy.py:267(_keep_alive)
        1    0.000    0.000    0.000    0.000 core.py:549(filled)
        1    0.000    0.000    0.000    0.000 figure.py:1014(clf)
        1    0.000    0.000    0.000    0.000 figure.py:1285(_set_artist_props)
        1    0.000    0.000    0.000    0.000 figure.py:1431(add_axobserver)
        1    0.000    0.000    0.000    0.000 figure.py:163(__init__)
        1    0.000    0.000    0.000    0.000 figure.py:193(update)
        6    0.000    0.000    0.000    0.000 figure.py:232(_update_this)
        1    0.000    0.000    0.001    0.001 figure.py:265(__init__)
        1    0.000    0.000    0.000    0.000 figure.py:400(_get_axes)
        1    0.000    0.000    0.000    0.000 figure.py:408(_set_dpi)
        1    0.000    0.000    0.000    0.000 figure.py:420(set_tight_layout)
        2    0.000    0.000    0.000    0.000 figure.py:54(_stale_figure_callback)
        2    0.000    0.000    0.000    0.000 figure.py:556(set_canvas)
        1    0.000    0.000    0.000    0.000 figure.py:74(__init__)
        1    0.000    0.000    0.000    0.000 figure.py:78(as_list)
       10    0.000    0.000    0.000    0.000 ntpath.py:63(join)
       21    0.000    0.000    0.000    0.000 ntpath.py:96(splitdrive)
        2    0.000    0.000    0.000    0.000 numeric.py:2113(identity)
        1    0.000    0.000    0.000    0.000 numeric.py:394(asarray)
        2    0.000    0.000    0.000    0.000 patches.py:251(set_antialiased)
        1    0.000    0.000    0.000    0.000 patches.py:262(set_aa)
        1    0.000    0.000    0.000    0.000 patches.py:266(set_edgecolor)
        2    0.000    0.000    0.000    0.000 patches.py:282(set_facecolor)
        1    0.000    0.000    0.000    0.000 patches.py:333(set_linewidth)
        1    0.000    0.000    0.000    0.000 patches.py:350(set_linestyle)
        1    0.000    0.000    0.000    0.000 patches.py:391(set_fill)
        1    0.000    0.000    0.000    0.000 patches.py:410(set_capstyle)
        1    0.000    0.000    0.000    0.000 patches.py:427(set_joinstyle)
        1    0.000    0.000    0.000    0.000 patches.py:444(set_hatch)
        1    0.000    0.000    0.000    0.000 patches.py:624(__init__)
        1    0.000    0.000    0.000    0.000 patches.py:73(__init__)
        1    1.641    1.641   13.049   13.049 plot.py:13(makeImageList)
        1    0.000    0.000   13.050   13.050 plot.py:31(animate)
        1    0.000    0.000   13.071   13.071 plot.py:37(__init__)
        1    0.000    0.000    0.022    0.022 plot.py:7(__init__)
        1    0.000    0.000   13.071   13.071 profile:0(plot.show(initialConfig, delta))
        0    0.000             0.000          profile:0(profiler)
        1    0.000    0.000    0.022    0.022 pyplot.py:420(figure)
        1    0.000    0.000    0.000    0.000 pyplot.py:585(get_fignums)
        1    0.000    0.000    0.000    0.000 six.py:569(iterkeys)
        1    0.000    0.000    0.000    0.000 six.py:572(itervalues)
        2    0.000    0.000    0.000    0.000 six.py:575(iteritems)
        1    0.000    0.000    0.000    0.000 transforms.py:1017(get_points)
        1    0.000    0.000    0.000    0.000 transforms.py:1065(__init__)
        4    0.000    0.000    0.000    0.000 transforms.py:1090(get_points)
        2    0.000    0.000    0.000    0.000 transforms.py:127(invalidate)
        2    0.000    0.000    0.000    0.000 transforms.py:138(_invalidate_internal)
        2    0.000    0.000    0.000    0.000 transforms.py:162(set_children)
        4    0.000    0.000    0.000    0.000 transforms.py:1633(__init__)
        1    0.000    0.000    0.000    0.000 transforms.py:1654(transform)
        1    0.000    0.000    0.000    0.000 transforms.py:1734(transform_affine)
        1    0.000    0.000    0.000    0.000 transforms.py:1779(__init__)
        1    0.000    0.000    0.000    0.000 transforms.py:1824(get_matrix)
        1    0.000    0.000    0.000    0.000 transforms.py:1873(clear)
        1    0.000    0.000    0.000    0.000 transforms.py:1943(scale)
        1    0.000    0.000    0.000    0.000 transforms.py:2521(__init__)
        2    0.000    0.000    0.000    0.000 transforms.py:380(_get_width)
        2    0.000    0.000    0.000    0.000 transforms.py:387(_get_height)
        1    0.000    0.000    0.000    0.000 transforms.py:780(__init__)
        1    0.000    0.000    0.000    0.000 transforms.py:827(from_bounds)
        1    0.000    0.000    0.000    0.000 transforms.py:837(from_extents)
        6    0.000    0.000    0.000    0.000 transforms.py:86(__init__)
        2    0.000    0.000    0.000    0.000 twodim_base.py:190(eye)
        1    0.000    0.000    0.000    0.000 weakref.py:176(itervalues)
        3    0.000    0.000    0.000    0.000 weakref.py:262(__new__)
        3    0.000    0.000    0.000    0.000 weakref.py:267(__init__)
       10    0.000    0.000    0.000    0.000 weakref.py:282(__init__)
       10    0.000    0.000    0.000    0.000 weakref.py:320(__setitem__)
       10    0.000    0.000    0.000    0.000 weakref.py:352(__contains__)
        6    0.000    0.000    0.000    0.000 weakref.py:47(__init__)
        1    0.000    0.000    0.000    0.000 weakref.py:61(_commit_removals)
        3    0.000    0.000    0.000    0.000 weakref.py:98(__setitem__)
        2    0.000    0.000    0.000    0.000 widgets.py:37(__init__)

17112015
Finished calculation at 54915 elementary steps in 3.71899986267 s. (N = 100, T=!)
        
Filename: lib\plot.py

Line #    Mem usage    Increment   Line Contents
================================================
    52  112.355 MiB    0.000 MiB       @profile
    53                                 def showPlot(self):
    54  112.996 MiB    0.641 MiB           plt.show()


Filename: lib\plot.py

Line #    Mem usage    Increment   Line Contents
================================================
    41   75.156 MiB  -31.508 MiB       @profile
    42                                 def animate(self):
    43                                     self.makeImageList()
    44  106.664 MiB   31.508 MiB           self.ani = animation.FuncAnimation(self.fig, self.updatefig, init_func=self.init, frames=len(self.imageList), interval=1, blit=True, repeat_delay=2)
    45  106.664 MiB    0.000 MiB           return self.ani


Filename: mcwolff.py

Line #    Mem usage    Increment   Line Contents
================================================
     4   54.668 MiB    0.000 MiB   @profile
     5                             def systemrun():
     6   54.832 MiB    0.164 MiB       system = ising.Wolff(100,1)
     7                                 initialConfig, delta, flipcount = system.run()
     8
     9                                 show = plot.show(initialConfig, delta, flipcount)
    10  112.355 MiB   57.523 MiB       show.saveVideo()
    11                                 show.showPlot()


Filename: lib\ising.py

Line #    Mem usage    Increment   Line Contents
================================================
    85   54.832 MiB    0.000 MiB       @profile
    86                                 def run(self):
    87   54.832 MiB    0.000 MiB           print self.p
    88   54.832 MiB    0.000 MiB           starttime = time.time()
    89                                     #for i in range(steps):
    90   54.836 MiB    0.004 MiB           print self.init.getMag(self.config)
    91   54.836 MiB    0.000 MiB           print (self.size*self.size*0.92)
    92   70.574 MiB   15.738 MiB           while self.init.getMag(self.config) < (self.size*self.size*0.98):
    93   70.574 MiB    0.000 MiB               self.oneClusterStep()
    94   70.574 MiB    0.000 MiB           print self.init.getMag(self.config)
    95   70.574 MiB    0.000 MiB           print "Finished calculation at",self.counter,"elementary steps in", time.time()-starttime,"s."
    96   70.574 MiB    0.000 MiB           return self.initialConfig, self.delta, self.flipCount


Filename: lib\plot.py

Line #    Mem usage    Increment   Line Contents
================================================
    15   75.156 MiB    0.000 MiB       @profile
    16                                 def makeImageList(self):
    17   75.156 MiB    0.000 MiB           print "Make Imagelist ..."
    18 2175.207 MiB 2100.051 MiB           for i, site in enumerate(self.delta):
    19 2175.168 MiB   -0.039 MiB               sys.stdout.write("\r%d%%" % i)
    20 2175.168 MiB    0.000 MiB               sys.stdout.flush()
    21 2175.207 MiB    0.039 MiB               tmp = copy.deepcopy(self.imageList[i])
    22 2175.207 MiB    0.000 MiB               tmp[site[0]][site[1]] *= -1
    23 2175.207 MiB    0.000 MiB               self.imageList.append(tmp)
    24 4281.938 MiB 2106.730 MiB           tmp = copy.deepcopy(self.imageList)
    25 2209.734 MiB -2072.203 MiB           self.imageList = []
    26 2209.734 MiB    0.000 MiB           for i in self.flipcount:
    27 2209.734 MiB    0.000 MiB               self.imageList.append(tmp[i])
    28 2209.734 MiB    0.000 MiB           return